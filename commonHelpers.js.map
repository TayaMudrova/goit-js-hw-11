{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { objectSearch } from './js/pixabay-api';\nimport { createMarkup } from './js/render-functions';\nimport { showLoading } from './js/render-functions';\nimport { hideLoading } from './js/render-functions';\n\nconst form = document.querySelector('.form');\nconst loader = document.querySelector('.loader');\nconst gallery = document.querySelector('.gallery');\n\nform.addEventListener('submit', handleSubmit);\n\nfunction handelSubmit(event) {\n  event.preventDefault();\n  gallery.innerHTML = '';\n  const dataSearch = event.currentTarget.elements.data.value.trim();\n  if (dataSearch === '') {\n    return iziToast.error({\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      position: 'bottomRight',\n      messageColor: 'white',\n      backgroundColor: 'red',\n      progressBarColor: 'black',\n    });\n  }\n  showLoading(loader);\n  objectSearch(dataSearch)\n    .then(data => {\n      if (data.hits.length === 0) {\n        hideLoading(loader);\n        return iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'bottomRight',\n          messageColor: 'white',\n          backgroundColor: 'red',\n          progressBarColor: 'black',\n        });\n      }\n      hideLoading(loader);\n      gallery.innerHTML = createMarkup(data.hits);\n      lightbox.refresh();\n    })\n    .catch(error => {\n      iziToast.error({\n        message: `${error}`,\n      });\n    })\n    .finally(() => {\n      form.reset();\n    });\n}\n\nconst lightbox = new SimpleLightbox('gallery a', {\n  captionsData: 'alt',\n  captionsPosition: 'bottom',\n  captionsDelay: 250,\n});\n"],"names":["form","SimpleLightbox"],"mappings":"svBASA,MAAMA,EAAO,SAAS,cAAc,OAAO,EAC5B,SAAS,cAAc,SAAS,EAC/B,SAAS,cAAc,UAAU,EAEjDA,EAAK,iBAAiB,SAAU,YAAY,EA4C3B,IAAIC,EAAe,YAAa,CAC/C,aAAc,MACd,iBAAkB,SAClB,cAAe,GACjB,CAAC"}